<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kamus Pribadi</title>
    <!-- Menggunakan Tailwind CSS untuk styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Menggunakan Font Inter dari Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Mengatur font default ke Inter */
        body {
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        /* Custom scrollbar untuk tampilan yang lebih baik di dark mode */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #1e293b; /* slate-800 */
        }
        ::-webkit-scrollbar-thumb {
            background: #3b82f6; /* blue-500 */
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #2563eb; /* blue-600 */
        }
    </style>
</head>
<body class="bg-slate-900 text-gray-200">

    <div class="container mx-auto max-w-3xl p-4 sm:p-6 md:p-8">

        <!-- Judul Aplikasi -->
        <header class="text-center mb-8">
            <h1 class="text-4xl font-bold text-blue-400">Kamus Pribadi</h1>
            <p class="text-slate-400 mt-2">Simpan dan kelola istilah atau definisi penting Anda.</p>
        </header>

        <main>
            <!-- Form untuk Menambah Istilah Baru -->
            <section class="bg-slate-800 p-6 rounded-lg shadow-xl mb-8 border border-slate-700">
                <form id="form-istilah">
                    <div class="mb-4">
                        <label for="input-istilah" class="block text-sm font-medium text-slate-300 mb-2">Istilah Baru</label>
                        <input type="text" id="input-istilah" placeholder="Contoh: API" required class="w-full bg-slate-700 border border-slate-600 rounded-md py-2 px-3 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition">
                    </div>
                    <div class="mb-4">
                        <label for="input-definisi" class="block text-sm font-medium text-slate-300 mb-2">Definisi</label>
                        <textarea id="input-definisi" rows="3" placeholder="Contoh: Antarmuka Pemrograman Aplikasi" required class="w-full bg-slate-700 border border-slate-600 rounded-md py-2 px-3 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"></textarea>
                    </div>
                    <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md transition duration-300 ease-in-out transform hover:scale-105 shadow-lg">
                        Tambah Istilah
                    </button>
                </form>
            </section>

            <!-- Daftar Istilah yang Tersimpan -->
            <section>
                <h2 class="text-2xl font-semibold text-slate-300 mb-4">Daftar Istilah</h2>
                <div id="daftar-istilah" class="space-y-4">
                    <!-- Data kamus akan ditampilkan di sini oleh JavaScript -->
                    <p id="pesan-kosong" class="text-center text-slate-500 py-8">Belum ada istilah yang disimpan.</p>
                </div>
            </section>
        </main>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const formIstilah = document.getElementById('form-istilah');
            const inputIstilah = document.getElementById('input-istilah');
            const inputDefinisi = document.getElementById('input-definisi');
            const daftarIstilah = document.getElementById('daftar-istilah');
            const pesanKosong = document.getElementById('pesan-kosong');

            // Mengambil data dari localStorage atau inisialisasi array kosong
            let kamus = JSON.parse(localStorage.getItem('kamusPribadiData')) || [];

            // Fungsi untuk menyimpan data ke localStorage
            const simpanKamus = () => {
                localStorage.setItem('kamusPribadiData', JSON.stringify(kamus));
            };

            // Fungsi untuk menampilkan semua istilah di UI
            const renderKamus = () => {
                // Kosongkan daftar sebelum me-render ulang
                daftarIstilah.innerHTML = '';

                if (kamus.length === 0) {
                    // Tampilkan pesan jika tidak ada data
                    daftarIstilah.innerHTML = '<p id="pesan-kosong" class="text-center text-slate-500 py-8">Belum ada istilah yang disimpan.</p>';
                } else {
                    // Urutkan kamus berdasarkan abjad istilah
                    kamus.sort((a, b) => a.istilah.localeCompare(b.istilah));
                    
                    // Buat elemen untuk setiap item di kamus
                    kamus.forEach((item, index) => {
                        const divItem = document.createElement('div');
                        divItem.className = 'bg-slate-800 p-5 rounded-lg shadow-md border border-slate-700 flex justify-between items-start transition duration-300 hover:border-blue-500';
                        
                        divItem.innerHTML = `
                            <div>
                                <h3 class="font-bold text-lg text-blue-400">${item.istilah}</h3>
                                <p class="text-slate-300 mt-1">${item.definisi.replace(/\n/g, '<br>')}</p>
                            </div>
                            <button data-index="${index}" class="hapus-btn ml-4 flex-shrink-0 bg-red-600 hover:bg-red-700 text-white font-bold py-1 px-3 rounded-md transition duration-200">
                                Hapus
                            </button>
                        `;
                        daftarIstilah.appendChild(divItem);
                    });
                }
            };

            // Event listener untuk form submit
            formIstilah.addEventListener('submit', (e) => {
                e.preventDefault(); // Mencegah form dari refresh halaman

                const istilahBaru = inputIstilah.value.trim();
                const definisiBaru = inputDefinisi.value.trim();

                if (istilahBaru && definisiBaru) {
                    // Tambahkan data baru ke array kamus
                    kamus.push({ istilah: istilahBaru, definisi: definisiBaru });
                    
                    // Simpan dan render ulang
                    simpanKamus();
                    renderKamus();

                    // Kosongkan input fields
                    inputIstilah.value = '';
                    inputDefinisi.value = '';
                    inputIstilah.focus(); // Fokus kembali ke input istilah
                }
            });

            // Event listener untuk tombol hapus (menggunakan event delegation)
            daftarIstilah.addEventListener('click', (e) => {
                // Cek apakah yang diklik adalah tombol hapus
                if (e.target.classList.contains('hapus-btn')) {
                    const index = parseInt(e.target.dataset.index, 10);
                    
                    // Hapus item dari array berdasarkan index
                    kamus.splice(index, 1);

                    // Simpan dan render ulang
                    simpanKamus();
                    renderKamus();
                }
            });

            // Render kamus saat halaman pertama kali dimuat
            renderKamus();
        });
    </script>

</body>
</html>
